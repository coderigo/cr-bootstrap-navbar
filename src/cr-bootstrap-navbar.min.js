"use strict";angular.module("cr.bootstrap.navbar",["ui.router","angular-underscore"]).directive("crEatClick",[function(){return{restrict:"A",link:function(a,b){b.click(function(a){a.preventDefault()})}}}]).directive("crBootstrapNavbar",["$state",function(a){return{template:'<nav class="navbar navbar-default" ng-class="{\'navbar-inverse\' : cssInverse }" role="navigation"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#cr-bootstrap-navbar-collapse"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" ui-sref="{{ stateNavConfigs.brand._state.name }}" ng-if="stateNavConfigs.brand">{{stateNavConfigs.brand.textDisplay}}</a></div><div class="collapse navbar-collapse" id="cr-bootstrap-navbar-collapse"><ul ng-repeat="group in stateNavConfigs.groups" class="nav navbar-nav navbar-{{group.align}}""><li ng-repeat = "link in group.links" ng-class  ="{ active : isCurrentState(link._state.name) }">    <a       ng-if   ="!link.isDropdown"      ui-sref ="{{ link._state.name }}"    >        {{ link.textDisplay }}     </a>    <a       ng-if       ="link.isDropdown"      href        ="#"      class       ="dropdown-toggle"      data-toggle ="dropdown"      cr-eat-click    >        {{ link.textDisplay }}        <span class="caret"></span>     </a>    <ul       ng-if ="link.isDropdown"      class ="dropdown-menu"      role  ="menu"    >       <li              ng-repeat     ="childLink in link.links"            ui-sref-active ="active"            ng-class       ="{\'rm-navbar-divider-before\': childLink.dividerBefore}"       >         <a ui-sref="{{ childLink._state.name }}">           {{ childLink.textDisplay }}         </a>       </li>    </ul></li></ul></div></div></nav>',restrict:"A",scope:{cssInverse:"@"},link:function(b){var c={link:{type:"link",isDropdown:!1},group:{align:"left"}},d=function(a){return _.chain(a).filter(function(a){return _.has(a,"data")&&_.has(a.data,"bsNav")}).map(function(a){var b=_.extend({},c.link),d=_.extend(b,a.data.bsNav),e=angular.copy(a);return delete e.data,_.extend(d,{_state:e})}).value()},e=function(a){var b={group:a[0].group,align:a[0].align?a[0].align:c.group.align,links:a};return _.each(a,function(a){delete a.group,delete a.align}),b},f=function(a,b){var c=_.filter(a,function(a){return a[0].type===b});return"link"===b&&(c=_.map(c,function(a){return e(a)})),c},g=function(a,b){return _.chain(b).flatten().filter(function(b){return b._state.name===a}).value()[0]},h=function(a){var b=_.chain(a).filter(function(a){return _.has(a,"group")}).groupBy("group").values().value(),c=_.filter(a,function(a){return!_.has(a,"group")});return _.each(c,function(a){var c=g(a._state.parent,b);c.links||(c.links=[]),c.links.push(a)}),b};b.isCurrentState=function(b){return a.is(b)||a.includes(b+".*")};var i=d(a.get());i=h(i),b.stateNavConfigs={brand:f(i,"brand")[0][0],groups:f(i,"link")}}}}]);